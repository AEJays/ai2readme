<h1 align="center">ai2readme</h1>

<p align="center">Automatically generate project documentation to boost developer efficiency ğŸš€</p>


<p align="center">
  <img alt="Github top language" src="https://img.shields.io/github/languages/top/AEJays/ai2readme?color=56BEB8">
  <img alt="Github language count" src="https://img.shields.io/github/languages/count/AEJays/ai2readme?color=56BEB8">
  <img alt="Repository size" src="https://img.shields.io/github/repo-size/AEJays/ai2readme?color=56BEB8">
  <img alt="License" src="https://img.shields.io/github/license/AEJays/ai2readme?color=56BEB8">
  <img alt="Github issues" src="https://img.shields.io/github/issues/AEJays/ai2readme?color=56BEB8" />
  <img alt="Github forks" src="https://img.shields.io/github/forks/AEJays/ai2readme?color=56BEB8" />
  <img alt="Github stars" src="https://img.shields.io/github/stars/AEJays/ai2readme?color=56BEB8" />
</p>
<p align="center">
  <a href="README.md">ä¸­æ–‡</a> &#xa0; | &#xa0; 
  <span>English</span>
</p>

## Project Overview

This project helps you integrate project content and generate markdown.

### How Project Parts are Obtained

1. GitHub repository acquisition method: This is mainly implemented through `git remote -v`, and the GitHub logos above require you to have set up the git remote origin. Your repository must also be an open-source repository.

2. Different modules of README are analyzed using different prompts for AI analysis. The modules currently in use have been tested extensively, and you can replace them with prompts that are more suitable for you. Based on your modules, you can also add your own modules.

3. The main file in `ai2readme generate` is handled by default using the `main` field from `package.json`. Other types of code may not have a `package.json`, so I made it configurable for JavaScript projects to make them more comfortable to use. The name is also defaulted to the `name` field from `package.json` unless your project doesn't have one, in which case it will get the folder name. The `--config` mode is mostly for backend use but can also be used by frontend - you just need to specify the configuration file (it will read your configuration file for the large model when needed).

4. All development here is based on `glm-4.6v-flash` generation. If you replace it or use the local ollama model, please test it yourself.

## Author's Note

This README document is about 60% generated by ai2readme, with only a small portion modified by me. The feature list is listed at the bottom. If you think this project is good, please give it a star. If you think this project is excellent and has been very helpful to you, and want to buy me a coffee, there's my Alipay QR code at the end. Thanks!

For convenience, it's generally recommended to clone it and install globally. Currently, it doesn't support npm packaging, but it may be supported later.

## Operation Video

Generate video below:

<video src="./readme-resources/video/generate.mp4">Generate operation video</video>

Translate video below:

<video src="./readme-resources/video/translate.mp4">Translate operation video</video>

## Getting Started
```bash
git clone https://github.com/AEJays/ai2readme.git
```

## Installation

1. Install dependencies
```bash
npm install -g .
```

2. Start the project (run command)
```bash
# Generate project README document (default command)
ai2readme generate <targetDir> 
# Translate the generated README to English
ai2readme translate <targetDir>
# Display help information
ai2readme help
```

## How to Use

### How to Run

#### Prepare Environment
1. **Configure environment variables (optional, only when using Zhipu AI)**  
   Copy the '.env.example' file and rename it to '.env', then add the API key:
   .env.example content:
   ```env
   # Choose AI backend, optional zhipu or ollama
   AI_PROVIDER=zhipu
   # Zhipu AI API key (go to https://open.bigmodel.cn/ to get)
   ZHIPU_API_KEY=<Your ZHIPU AI API Key>
   # Model name provided by Zhipu AI, current free model recommendation
   ZHIPU_MODEL=glm-4.6v-flash # Currently Zhipu AI's free model that works well (tested)
   # Base URL for ollama service, default local port 11434
   OLLAMA_BASE_URL=http://localhost:11434
   # Local model name used by ollama
   OLLAMA_MODEL=<YourModel>
   ```

2. **Run commands**  
   Use the `ai2readme` command, supporting the following subcommands:
   - `generate`: Generate project README
   - `translate`: Translate the generated README to English
   - `help`: Display help information

#### Command Examples
- **Default generate README for current directory**:  
  ```bash
  ai2readme generate
  ```
- **Specify target directory and main file**:  
  ```bash
  ai2readme generate ./my-project src/index.js
  ```
- **Translate generated README (reads Chinese README => English README, only reads ./my-project/README.md)**:  
  ```bash
  ai2readme translate ./my-project
  ```

#### Interactive Examples
1. **Display help information**:  
   ```bash
   ai2readme
   ```
   Output:  
   ```
   Usage: ai2readme <command>  
   Commands:
     generate              Generate project README document (default command)
     translate             Translate the generated README to English
     help, --help, -h      Display help information
   Arguments:
                Target project path (default: current directory)
                 Project main entry file name (optional, used for analyzing core logic as some logic requires analyzing all code to determine)
   Options:
     --config <file>       Specify configuration file path (optional, generally used to determine what configurations a project has)
   Examples:
     ai2readme
     ai2readme generate ./my-project src/index.js
     ai2readme translate ./my-project
     ai2readme help
     ai2readme --help
   ```

2. **Output after running the generate command**:  
   ```bash
   ai2readme generate ./my-project
   ```
   Output:  
   ```
   ğŸ” Analyzing project: /path/to/my-project
   ğŸ“ Ignore patterns: 
   âš™ï¸ Specified configuration file: null
   ğŸ“š Collecting key code snippets (maximum 5 files)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   âœ… Successfully generated README.md at .ai2readme/my-project/
   ```

## Features

| Feature | Description |
| --- | --- |
| Multi-AI backend support | Supports Zhipu AI cloud (zhipu) and Ollama local models as AI service providers |
| Project structure automatic analysis | Automatically scans project directory to generate file structure information |
| Key code snippet extraction | Extracts core code snippets of the project (with limits on file count and single file line count) |
| Automatic README generation | Automatically generates professional Chinese README based on AI analysis of project information |
| README translation feature | Supports translating generated README documents to English versions |
| Command line interaction | Provides generate (generate), translate (translate), help (help) command line operations |
| Flexible configuration options | Can customize ignore patterns, code file types, output directory through configuration files |
| Robust error handling | Includes error logging and program exit mechanisms |

## Technology Stack

### Dependency Overview
The following are the Node.js dependencies used by the project, organized by functionality:

- **Tool libraries**
  - `dotenv (^17.2.3)`: Loads environment variables for easy configuration management
  - `fs-extra (^11.3.3)`: Extends Node.js file system operations with richer file operations
  - `ignore (^7.0.5)`: Provides file/directory ignore rules, commonly used to exclude specific files in build processes
  - `openai (^6.16.0)`: OpenAI API client, used to call OpenAI services (models, API interactions)

## Project Structure

```text
analyze-project-generate-markdown/
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ config.js
â”œâ”€â”€ index.js
â”œâ”€â”€ package.json
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ en.js
â”‚   â””â”€â”€ zh.js
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ ai.js
â”‚   â”œâ”€â”€ file.js
â”‚   â””â”€â”€ logger.js
â””â”€â”€ writer.js
```

## Notes

âš ï¸ When using Zhipu AI service, you must set `ZHIPU_API_KEY` in the `.env` file in the project root directory, otherwise the program will fail to start and report an error.
âš ï¸ The AI service provider (`AI_PROVIDER`) must be configured as `"zhipu"` or `"ollama"`, otherwise the program will terminate and prompt an error.
âš ï¸ The target project path must contain valid code files (not in ignore patterns), otherwise it will prompt "No valid files found" and exit.
âš ï¸ Code analysis limits: Maximum 100 lines per file, maximum 5 files analyzed.
âš ï¸ The translation feature requires first generating a Chinese README.md using the `generate` command, otherwise the translation command will report an error.
âš ï¸ To add chapters, add corresponding usable prompts in the zh.js file.

## Feature List

1.0 version new features:

âœ… Project structure automatic analysis

âœ… Code snippet extraction (supports limiting file count and single file line count/supports confirming code acquisition)

âœ… Automatic README generation

âœ… README translation feature

âœ… Global command interaction

âœ… Local ollama model support

âœ… Zhipu AI cloud support

âœ… Auto-detect .gitignore file for automatic filtering

âœ… Specify output folder for generation

âœ… Chapter configuration

âœ… GitHub library detection

## My Alipay

<img src="readme-resources/image/alipay.jpg" width="200" alt="Alipay QR code" />